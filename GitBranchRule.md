# Gitブランチ命名規則

このドキュメントは、2人での小規模開発におけるGitブランチの命名規則と運用方針を定めます。
チーム内の開発をスムーズにし、コードベースの整合性を保つことを目的とします。

---

## 1. 基本ブランチ

常に安定した状態を保つ重要なブランチです。これらのブランチに直接コミットすることは避けてください。

* **`main`**:
    * **役割**: 常にリリース可能な状態のコードを保持します。
    * **運用**: 新しい機能やバグ修正は、機能ブランチやバグ修正ブランチから`develop`ブランチにマージされた後、最終的に`main`にマージされます。緊急のバグ修正（ホットフィックス）のみ、直接このブランチから分岐する場合があります。
    * **特徴**: **絶対に直接コミットしない。**

* **`develop`**:
    * **役割**: 現在開発中の最新のコードを保持します。
    * **運用**: 新しい機能やバグ修正のブランチは、このブランチから分岐し、作業完了後に`develop`にマージされます。
    * **特徴**: `main`ブランチの次のリリース候補となるコードが集まる場所です。

---

## 2. 作業用ブランチ（命名規則）

特定のタスク（機能開発、バグ修正など）を行うためのブランチです。ブランチ名を一目見ただけで、そのブランチの目的がわかるように命名します。

### 2.1. 機能開発ブランチ

新しい機能を追加する際に使用します。

* **命名規則**: `feature/<機能名>`
* **例**:
    * `feature/user-authentication` (ユーザー認証機能の実装)
    * `feature/item-list-pagination` (商品一覧のページネーション追加)
    * `feature/admin-dashboard-analytics` (管理者ダッシュボードへの分析機能追加)
* **運用**: `develop`ブランチから分岐し、作業完了後に`develop`ブランチへプルリクエストを作成し、マージします。

### 2.2. バグ修正ブランチ

既存のバグを修正する際に使用します。

* **命名規則**: `bugfix/<バグの概要>` または `bugfix/<チケット番号>-<バグの概要>`
    * **例**:
        * `bugfix/login-form-validation` (ログインフォームの入力検証不具合修正)
        * `bugfix/css-layout-issue` (特定のページでのCSSレイアウト崩れ修正)
        * `bugfix/ISSUE-123-api-response-error` (イシュー#123のAPI応答エラー修正)
* **運用**: `develop`ブランチから分岐し、作業完了後に`develop`ブランチへプルリクエストを作成し、マージします。チケット管理システムを利用している場合、チケット番号を付けると追跡が容易になります。

### 2.3. ホットフィックスブランチ（緊急バグ修正）

`main`ブランチ（本番環境）で発見された緊急性の高いバグを修正する際に使用します。

* **命名規則**: `hotfix/<緊急修正の概要>`
* **例**:
    * `hotfix/critical-api-error` (本番環境でのAPI致命的エラー修正)
    * `hotfix/payment-gateway-down` (決済ゲートウェイのダウンによる緊急対応)
* **運用**: **`main`ブランチから分岐**し、修正完了後に**`main`ブランチと`develop`ブランチの両方**へプルリクエストを作成し、マージします。これにより、本番環境の修正が開発中のブランチにも反映されることを保証します。

---

## 3. 運用上のルール

これらのルールは、ブランチ命名規則と合わせて、よりスムーズな開発を促進します。

1.  **プルリクエスト（Pull Request / PR）の活用**:
    * `develop`や`main`へのマージは、必ずプルリクエストを介して行います。
    * プルリクエストでは、もう一人の開発者にコードレビューを依頼し、品質と整合性を確認します。
    * プルリクエストのタイトルや説明には、変更内容や関連するイシュー番号（もしあれば）を明記します。

2.  **定期的な`develop`の取り込み**:
    * 各自の機能ブランチやバグ修正ブランチで作業中は、定期的に`develop`ブランチの最新の変更を取り込むようにしましょう（例: `git pull origin develop`）。
    * これにより、マージ時のコンフリクト（競合）を最小限に抑え、問題を早期に発見できます。

3.  **不要になったブランチの削除**:
    * マージが完了し、目的を達成したブランチは、マージ後に削除しましょう。
    * ブランチの削除は、リポジトリを整理し、見通しを良くするために重要です。

---

## 4. コミットメッセージの推奨事項

ブランチ命名規則と同様に、コミットメッセージも一貫性を持たせることで、履歴が読みやすくなります。

* **件名（一行目）**: 変更内容を簡潔にまとめる（50文字以内推奨）。
    * 例: `feat: Add user profile editing functionality`
    * 例: `fix: Resolve login form validation issue`
* **本文**: 変更の詳細、なぜその変更を行ったのか、影響範囲などを具体的に記述する。
* **関連イシュー**: 関連するGitHub Issuesがある場合は、`Closes #123`のように記載する。

---

この規則に沿って開発を進めることで、2人でのプロジェクトをより効率的かつ安全に進めることができるでしょう。何か質問があれば、いつでもGitマスターに聞いてください！